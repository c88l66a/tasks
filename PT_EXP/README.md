1.1 Подготовить окружение для выполнения домашнего задания.
В качестве операционной системы для виртуальных машин или узлов необходимо использоваться Debian.

1.2 Развернуть СУБД PostgreSQL и подготовить базу "main" для подключения веб-приложения.
Допускается установка СУБД PostgreSQL на том же узле (или Docker-контейнере), что и веб-приложение.
Подключение к базе "main" должно осуществляться с помощью отдельно созданного пользователя СУБД.
В базе "main" должно существовать 2 таблицы: "users" и "information".
- Таблица "users" должна состоять из двух столбцов ("username" и "password") и иметь 2-3 записи;
- Таблица "information" должна состоять из трех столбцов ("column1", "column2" и "column3") и иметь 2-3 записи;

1.3 Скачать файл подготовленного уязвимого веб-приложения на языке PHP ("index.php") и отредактировать его для корректного подключения веб-приложения к базе "main".
Файл "index.php" доступен по следующей ссылке: https://storage.ptsecurity.com/f/0cd579eec53a4a5c80d1/?dl=1 (Данный ресурс не доступен по ссылке, вместо данного приложения, было развернуто DVWA)
Развернуть веб-приложение необходимо с использованием веб-сервера nginx и файла "index.php", после чего проверить его доступность, например, с помощью веб-браузера или утилиты "curl". 
Проверить основной функционал веб-приложения: авторизация и отображение запроса после авторизации.

1.4 Развернуть обратный прокси-сервер (nginx иди HAProxy) на отдельном узле (или Docker-контейнере). 
Настроить обратный прокси-сервер для передачи внешних подключений на веб-приложение: обратный прокси-сервер должен проксировать запросы  на веб-приложение из одной подсети (внешней) в другую подсеть (внутреннюю).
Проверить доступность веб-приложения через обратный прокси-сервер, например, с помощью веб-браузера или утилиты "curl".
Проверить основной функционал веб-приложения через обратный прокси-сервер: авторизация и отображение за
проса после авторизации.
1.5 Настроить журналирование (логирование) клиентских запросов и их параметров на обратном прокси-сервере.
В журнале клиентских запросов должна быть отражена следующая информация о запросах: время регистрации запроса, IP-адрес клиента, IP-адрес и порт веб-сервера, метод запроса, код статуса ответа, URL и строка запроса, заголовки запроса и их значения (User-Agent, Content-Type, Cookie, X-Forwarded-For и X-Real-IP), размер запроса и ответа, время обработки запроса и ожидания ответа.

1.6 Выполнить домашнее задание с использованием Docker. Допускается использование Docker Compose.
Количество баллов за данное задание зависит от его реализации и количества решенных задач с использованием Docker.

1.7 Ограничить доступ к развернутому веб-приложению для клиентов на основе значения заголовка запроса "User-Agent": доступ должен предоставляться только тем клиентам, у которых значение заголовка равняется "X-Agent". Настройка ограничения доступа допускается как на стороне прокси-сервера, так и на стороне веб-приложения.

1.8 Настроить ротацию логов веб-сервера, БД, и любого из системных логов.

1.9 Сделать мониторинг веб-сервера (Grafana + Prometheus): системные метрики и метрики прикладного ПО. Предлагается выбрать набор метрик самостоятельно в зависимости от критичности и написать обоснование выбора в отчете.

2.0 Реализовать развертывание решений из задач части 3 с помощью Ansible

2.1 Реализовать развертывание решений из задач части 1 с помощью Ansible